{% extends "layout.njk" %}

{% block content %}

<h1 class="govuk-heading-xl">{{ title }}</h1>

<table class="govuk-table govuk-!-margin-top-6">
  <thead class="govuk-table__head">
    <tr class="govuk-table__row">
      <th scope="col" class="govuk-table__header">Actions</th>
      <th scope="col" class="govuk-table__header">Species</th>
      <th scope="col" class="govuk-table__header">Status</th>
      <th scope="col" class="govuk-table__header">Images</th>
    </tr>
  </thead>
  <tbody class="govuk-table__body">
    {% for capture in captures %}
      <tr class="govuk-table__row">
        <td class="govuk-table__cell">
          <form method="POST" action="#" style="display:inline;">
            <button type="submit" class="govuk-button govuk-button--primary govuk-!-margin-bottom-1" style="font-size: 0.9rem;">Buy</button>
          </form>
          <a href="#" class="govuk-button govuk-button--secondary govuk-!-margin-left-2 govuk-!-margin-bottom-1" style="font-size: 0.9rem;">View</a>
        </td>
        <td class="govuk-table__cell">{{ capture.species }}</td>
        <td class="govuk-table__cell">{{ capture.idStatus }}</td>
        <td class="govuk-table__cell">
          {% for image in capture.images.slice(0, 3) %}
            <img src="/images/{{ image.fileURL }}" 
                 alt="Image {{ image.id }}" 
                 class="govuk-image"
                 style="width: 60px; height: 60px; object-fit: cover; margin-right: 4px;">
          {% endfor %}
          {% if capture.images.length > 3 %}
            ...
          {% endif %}
        </td>
      </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock %}

